---
layout: post
title: 压测
categories: Blog
description: 压测基础说明
keywords: git
---

##### 1、流程说明
######  压测目的————>压测背景————>业务逻辑————>实施方案————>执行压测————>测试结论————>问题落地
######  1.1、压测目的
######  1.一般在新服务上线，重大版本上线、重大环境变更

######  2.定期性能巡检、接口水位摸底，服务性能变化趋势
######  1.2、背景信息

######  1.影响业务范围：主要压业务、依赖业务、业务风险

######  2.历史指标极值：高峰QPS、响应时间、资源消耗、成功率
######  3.历史问题收集：近期告警信息、故障信息、开发问题反馈
######  1.3、业务梳理
######  1、梳理服务依赖：开发代码梳理、业务线QA业务梳理
######  2、梳理网络环境：发起端、服务端、 网络路径、网关服务、SLB端口配置、宽带占用
######  3、执行时间窗口：业务顶峰期、避免关联业务上线冲突、避免压测任务冲突
######  1.4、实施方案
######  1、环境设置放行：接口鉴权、网关限流阈值、熔断条件
######  2、压测场景制定：梯度方式、测试数据、穿透率
######  3、压测接口依赖：登录态等
######  4、压测接口协议：http(s)、grpc、其他rpc协议
######  5、压测平台：jmeter
######  6、实施报备：
######  7、实施风险评估：识别风险、规避风险、应对方案
######  1.5、执行压测
###### 1.压测工具：jmeter
###### 2.准入检查：debug测试脚本、修改配置后线上业务检查、监控报备
###### 3.施压方式：由小到大逐步增大压力、阈值应对策略
###### 4.监控方式：压测平台结果数据监控、资源监控
###### 5.准出检查：确认压测工具关闭、还原配置后线上业务检查、监控报备
###### 6.沟通协作：建议语音或会议方式实时沟通
###### 7.异常处理：及时停止压测、快速分析原因进行规避
###### 8.压测影响：上线问题反馈、错误日志、告警信息
######  1.6、测试结论
###### 重点指标：Qps、P99、成功率、错误日志、资源监控、响应时间rt。p99（99%耗时指标）
###### 确认结果：可召开复盘会议，确认测试结果、给出问题排查方向或优化方案，
###### 提交问题：QA在bug平台中记录问题或现象
###### 测试报告：基于压测平台的测试报告，对比、修正后形成测试结论编写测试报告、发送邮件